<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riel Innovations | Innovation Meets Functionality</title>
    <!-- Load Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: #f7f9fb; color: #1a202c; overflow-x: hidden; }
        .bg-primary { background-color: #0b4f6c; }
        .text-primary { color: #0b4f6c; }
        .border-primary { border-color: #0b4f6c; }
        
        /* --- MODERN SCROLL ANIMATIONS --- */
        
        /* Base state for all animated elements */
        [data-animate] {
            opacity: 0;
            transition: all 1.2s cubic-bezier(0.22, 1, 0.36, 1); /* "Spring" ease */
            will-change: opacity, transform, filter;
        }

        /* 1. Fade Up with Scale & Blur (Cards, Text) */
        [data-animate="fadeInUp"] {
            transform: translateY(60px) scale(0.95);
            filter: blur(10px);
        }

        /* 2. Slide In Left (Headings) */
        [data-animate="slideInLeft"] {
            transform: translateX(-100px);
            filter: blur(5px);
        }

        /* 3. Slide In Right (Subtext) */
        [data-animate="slideInRight"] {
            transform: translateX(100px);
            filter: blur(5px);
        }

        /* 4. Zoom In (Hero Image/Backgrounds) */
        [data-animate="zoomIn"] {
            transform: scale(0.8);
            filter: blur(5px);
        }

        /* --- ACTIVE STATE (Triggered by JS) --- */
        [data-animate].animate-active {
            opacity: 1;
            transform: translate(0) scale(1);
            filter: blur(0);
        }

        /* Preloader CSS */
        #preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f7f9fb;
            display: flex; justify-content: center; align-items: center; z-index: 9999;
            transition: opacity 0.5s ease-out;
        }
        .spinner {
            border: 6px solid rgba(11, 79, 108, 0.2); border-top: 6px solid #0b4f6c;
            border-radius: 50%; width: 60px; height: 60px; animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="antialiased">

    <div id="preloader"><div class="spinner"></div></div>

    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#home" class="flex items-center space-x-2 transition duration-300 hover:opacity-80">
                <!-- Header Logo -->
                <img src="https://placehold.co/150x40/0b4f6c/ffffff?text=RIEL+LOGO" alt="Riel Innovations Logo" class="h-8 sm:h-10" onerror="this.onerror=null;this.style.display='none';document.getElementById('text-logo').style.display='block';">
                <span id="text-logo" class="text-2xl font-extrabold text-primary" style="display:none;">Riel Innovations</span>
            </a>
            
            <nav class="hidden md:flex space-x-8">
                <a href="#home" class="nav-link text-gray-600 hover:text-primary transition duration-300 font-medium">Home</a>
                <a href="#services" class="nav-link text-gray-600 hover:text-primary transition duration-300 font-medium">Services</a>
                <a href="#about" class="nav-link text-gray-600 hover:text-primary transition duration-300 font-medium">About</a>
                <a href="#portfolio" class="nav-link text-gray-600 hover:text-primary transition duration-300 font-medium">Portfolio</a>
                <a href="#contact" class="nav-link text-white bg-primary px-4 py-2 rounded-lg shadow-md hover:bg-gray-800 transition duration-300 transform hover:-translate-y-px hover:-shadow-lg">Contact Us</a>
            </nav>

            <button id="mobile-menu-btn" class="md:hidden text-primary focus:outline-none"><i class="fas fa-bars text-2xl"></i></button>
        </div>

        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg pb-4">
            <nav class="flex flex-col space-y-2 px-4">
                <a href="#home" class="nav-link py-2 text-gray-600 hover:bg-gray-100 rounded-md transition duration-200">Home</a>
                <a href="#services" class="nav-link py-2 text-gray-600 hover:bg-gray-100 rounded-md transition duration-200">Services</a>
                <a href="#about" class="nav-link py-2 text-gray-600 hover:bg-gray-100 rounded-md transition duration-200">About</a>
                <a href="#portfolio" class="nav-link py-2 text-gray-600 hover:bg-gray-100 rounded-md transition duration-200">Portfolio</a>
                <a href="#contact" class="nav-link py-2 text-white bg-primary text-center rounded-lg shadow-md hover:bg-gray-800 transition duration-300 transform hover:-translate-y-px hover:-shadow-lg">Contact Us</a>
            </nav>
        </div>
    </header>

    <main>
        <section id="home" class="h-screen flex items-center bg-gray-50/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center">
                <p class="text-xl text-primary font-semibold mb-4" data-animate="slideInLeft" style="transition-delay: 100ms;">Strategy. Design. Development.</p>
                <h1 class="text-5xl md:text-7xl font-extrabold text-gray-900 leading-tight mb-6" data-animate="zoomIn" style="transition-delay: 200ms;">We Build <span class="text-primary">Websites</span> <br class="hidden sm:inline"> That Work.</h1>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-10" data-animate="fadeInUp" style="transition-delay: 400ms;">Your digital presence is your most valuable asset. At Riel Innovations, <span class="font-bold text-gray-900">Innovation Meets Functionality</span>.</p>
                <div data-animate="fadeInUp" style="transition-delay: 600ms;">
                    <a href="#contact" class="inline-block bg-primary text-white font-bold py-3 px-8 rounded-xl text-lg shadow-xl hover:shadow-2xl hover:bg-gray-800 transition duration-300 transform hover:scale-[1.03] hover:ring-4 hover:ring-primary/40">Start Your Project Today</a>
                </div>
            </div>
        </section>

        <section id="services" class="py-20 md:py-32 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 text-center mb-4" data-animate="slideInLeft">Our Expertise</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-16 stagger-container">
                    <div class="bg-gray-50 p-8 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 group border-t-4 border-primary" data-animate="fadeInUp">
                        <i class="fas fa-user-tie text-4xl text-primary mb-4 group-hover:scale-110 transition duration-300"></i>
                        <h3 class="text-xl font-bold mb-3 text-gray-800">Personal Portfolio Websites</h3>
                        <p class="text-gray-600">Showcase your work and story with a custom, high-impact online portfolio.</p>
                    </div>
                    <div class="bg-gray-50 p-8 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 group border-t-4 border-primary" data-animate="fadeInUp">
                        <i class="fas fa-building text-4xl text-primary mb-4 group-hover:scale-110 transition duration-300"></i>
                        <h3 class="text-xl font-bold mb-3 text-gray-800">Business/Corporate Websites</h3>
                        <p class="text-gray-600">Establish authority with a professional corporate website designed for growth.</p>
                    </div>
                    <div class="bg-gray-50 p-8 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 group border-t-4 border-primary" data-animate="fadeInUp">
                        <i class="fas fa-rocket text-4xl text-primary mb-4 group-hover:scale-110 transition duration-300"></i>
                        <h3 class="text-xl font-bold mb-3 text-gray-800">Landing Pages</h3>
                        <p class="text-gray-600">Drive campaign success with targeted, high-converting landing pages.</p>
                    </div>
                    <div class="bg-gray-50 p-8 rounded-xl shadow-lg hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 group border-t-4 border-primary" data-animate="fadeInUp">
                        <i class="fas fa-shopping-cart text-4xl text-primary mb-4 group-hover:scale-110 transition duration-300"></i>
                        <h3 class="text-xl font-bold mb-3 text-gray-800">E-commerce Websites</h3>
                        <p class="text-gray-600">Launch your online store with secure, seamless platforms designed for sales.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section with Grid Stagger -->
        <section id="about" class="py-20 md:py-32 bg-gray-50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 text-center mb-4" data-animate="slideInLeft">Why Choose Riel Innovations?</h2>
                    <p class="text-xl text-gray-600 text-center mb-16" data-animate="slideInRight">
                        We don't just build sites; we build digital strategies. Our commitment to quality and client success is unmatched.
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 stagger-container">
                    <div class="p-6 bg-white rounded-xl shadow-lg flex items-start space-x-4" data-animate="fadeInUp">
                        <i class="fas fa-bolt text-2xl text-primary mt-1"></i>
                        <div>
                            <h4 class="font-bold text-lg mb-1">Performance First</h4>
                            <p class="text-gray-600 text-sm">We focus on clean code and optimized assets for lightning-fast loading speeds.</p>
                        </div>
                    </div>
                    <div class="p-6 bg-white rounded-xl shadow-lg flex items-start space-x-4" data-animate="fadeInUp">
                        <i class="fas fa-mobile-alt text-2xl text-primary mt-1"></i>
                        <div>
                            <h4 class="font-bold text-lg mb-1">Mobile-First Design</h4>
                            <p class="text-gray-600 text-sm">Every project is built to look flawless and function perfectly on all devices.</p>
                        </div>
                    </div>
                    <div class="p-6 bg-white rounded-xl shadow-lg flex items-start space-x-4" data-animate="fadeInUp">
                        <i class="fas fa-lock text-2xl text-primary mt-1"></i>
                        <div>
                            <h4 class="font-bold text-lg mb-1">Security & Reliability</h4>
                            <p class="text-gray-600 text-sm">We ensure your website is built on robust, secure foundations.</p>
                        </div>
                    </div>
                    <div class="p-6 bg-white rounded-xl shadow-lg flex items-start space-x-4" data-animate="fadeInUp">
                        <i class="fas fa-chart-line text-2xl text-primary mt-1"></i>
                        <div>
                            <h4 class="font-bold text-lg mb-1">Growth Focused</h4>
                            <p class="text-gray-600 text-sm">Our websites are built with scalability in mind, ready to adapt alongside your business.</p>
                        </div>
                    </div>
                    <div class="p-6 bg-white rounded-xl shadow-lg flex items-start space-x-4" data-animate="fadeInUp">
                        <i class="fas fa-hands-helping text-2xl text-primary mt-1"></i>
                        <div>
                            <h4 class="font-bold text-lg mb-1">Transparent Partnership</h4>
                            <p class="text-gray-600 text-sm">We believe in open communication throughout the entire development process.</p>
                        </div>
                    </div>
                    <div class="p-6 bg-white rounded-xl shadow-lg flex items-start space-x-4" data-animate="fadeInUp">
                        <i class="fas fa-palette text-2xl text-primary mt-1"></i>
                        <div>
                            <h4 class="font-bold text-lg mb-1">Custom Aesthetics</h4>
                            <p class="text-gray-600 text-sm">No templates hereâ€”every design is custom-crafted to reflect your brand.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="portfolio" class="py-20 md:py-32 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 text-center mb-4" data-animate="slideInLeft">Our Recent Work</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-16 stagger-container">
                    
                    <!-- Project 1 -->
                    <a href="#" target="_blank" class="group bg-gray-50 rounded-xl shadow-xl overflow-hidden transform transition duration-500 hover:scale-[1.02]" data-animate="fadeInUp">
                        <img id="portfolio-img-1" src="https://placehold.co/600x400/0B4F6C/ffffff?text=Premium+E-commerce" alt="E-commerce Website" class="w-full h-56 object-cover transition duration-500 group-hover:opacity-80">
                        <div class="p-6">
                            <h3 class="text-xl font-bold mb-2 text-gray-800">Retailer Online Store</h3>
                            <p class="text-sm text-primary font-semibold mb-3">E-commerce</p>
                            <p class="text-gray-600 text-sm">A custom-built, secure e-commerce platform.</p>
                        </div>
                    </a>

                    <!-- Project 2: IFANIDIGI -->
                    <a href="https://ifanijigiproductions.tv/" target="_blank" class="group bg-gray-50 rounded-xl shadow-xl overflow-hidden transform transition duration-500 hover:scale-[1.02]" data-animate="fadeInUp">
                        <img id="portfolio-img-2" src="https://placehold.co/600x400/2E86AB/ffffff?text=Ifanidigi+Culture" alt="Cultural Documentary Website" class="w-full h-56 object-cover transition duration-500 group-hover:opacity-80">
                        <div class="p-6">
                            <h3 class="text-xl font-bold mb-2 text-gray-800">Ifanidigi: Yoruba Heritage</h3>
                            <p class="text-sm text-primary font-semibold mb-3">Cultural Platform</p>
                            <p class="text-gray-600 text-sm">Rich media platform promoting Yoruba traditions.</p>
                        </div>
                    </a>
                    
                    <!-- Project 3 -->
                    <a href="#" target="_blank" class="group bg-gray-50 rounded-xl shadow-xl overflow-hidden transform transition duration-500 hover:scale-[1.02]" data-animate="fadeInUp">
                        <img id="portfolio-img-3" src="https://placehold.co/600x400/2F4F4F/ffffff?text=CV+Writing+Services" alt="Professional Writing Service Website" class="w-full h-56 object-cover transition duration-500 group-hover:opacity-80">
                        <div class="p-6">
                            <h3 class="text-xl font-bold mb-2 text-gray-800">Riel Writing Services</h3>
                            <p class="text-sm text-primary font-semibold mb-3">Professional Services</p>
                            <p class="text-gray-600 text-sm">Responsive website for academic writing.</p>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="py-20 md:py-32 bg-gray-50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 text-center mb-4" data-animate="slideInLeft">What Our Clients Say</h2>
                <p class="text-xl text-gray-600 text-center max-w-2xl mx-auto mb-16" data-animate="slideInRight">
                    Our success is measured by the results we achieve for you.
                </p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto stagger-container">
                    <!-- Testimonial 1 -->
                    <div class="bg-white p-8 rounded-xl shadow-xl border-b-4 border-primary" data-animate="fadeInUp">
                        <i class="fas fa-quote-left text-3xl text-primary mb-4"></i>
                        <p class="text-gray-700 italic mb-6">"Riel Innovations completely transformed our outdated website into a lead-generating machine. The entire process was professional, timely, and highly communicative. True experts."</p>
                        <div class="flex items-center">
                            <img src="https://placehold.co/50x50/F7F9FB/0B4F6C?text=J.D." alt="Client Image" class="w-12 h-12 rounded-full mr-4 bg-primary">
                            <div>
                                <p class="font-bold text-gray-900">John Doe</p>
                                <p class="text-sm text-gray-500">CEO, Apex Solutions (E-commerce)</p>
                            </div>
                        </div>
                    </div>

                    <!-- Testimonial 2 -->
                    <div class="bg-white p-8 rounded-xl shadow-xl border-b-4 border-primary" data-animate="fadeInUp">
                        <i class="fas fa-quote-left text-3xl text-primary mb-4"></i>
                        <p class="text-gray-700 italic mb-6">"The Ifanidigi platform is beautiful and technically flawless. They captured the spirit of our vision and delivered a fast, reliable, and engaging cultural resource."</p>
                        <div class="flex items-center">
                            <img src="https://placehold.co/50x50/F7F9FB/0B4F6C?text=T.A." alt="Client Image" class="w-12 h-12 rounded-full mr-4 bg-primary">
                            <div>
                                <p class="font-bold text-gray-900">Tolu Adekunle</p>
                                <p class="text-sm text-gray-500">Founder, Ifanidigi</p>
                            </div>
                        </div>
                    </div>

                    <!-- Testimonial 3 -->
                    <div class="bg-white p-8 rounded-xl shadow-xl border-b-4 border-primary" data-animate="fadeInUp">
                        <i class="fas fa-quote-left text-3xl text-primary mb-4"></i>
                        <p class="text-gray-700 italic mb-6">"Our new service site is structured perfectly. The booking flow is seamless, and we've already seen a huge drop in client confusion. Highly recommend their strategic design."</p>
                        <div class="flex items-center">
                            <img src="https://placehold.co/50x50/F7F9FB/0B4F6C?text=S.K." alt="Client Image" class="w-12 h-12 rounded-full mr-4 bg-primary">
                            <div>
                                <p class="font-bold text-gray-900">Sarah K.</p>
                                <p class="text-sm text-gray-500">Project Manager, Riel Writing Services</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-20 md:py-32 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 text-center mb-4" data-animate="slideInLeft">Let's Discuss Your Project</h2>
                <div class="max-w-3xl mx-auto bg-gray-50 p-8 md:p-12 rounded-2xl shadow-2xl border-t-8 border-primary mt-12" data-animate="fadeInUp">
                    
                    <div id="success-message" class="hidden text-center">
                        <i class="fas fa-check-circle text-6xl text-primary mb-4" data-animate="zoomIn"></i>
                        <h3 class="text-3xl font-bold text-gray-900 mb-4">Thank You!</h3>
                        <p class="text-lg text-gray-700 mb-8">We've received your inquiry.</p>
                        <a id="whatsapp-link" href="#" target="_blank" class="inline-block bg-green-500 text-white font-bold py-3 px-8 rounded-xl text-lg shadow-xl hover:bg-green-600 transition duration-300 transform hover:scale-[1.03]">
                            <i class="fab fa-whatsapp mr-2"></i> Get a Quote on WhatsApp
                        </a>
                        <button onclick="resetFormView()" class="mt-6 text-primary hover:underline transition duration-200">Submit Another Request</button>
                    </div>

                    <form action="https://script.google.com/macros/s/AKfycbxtBpu_A76qcYIvcZhIj7NXxcXHAllVy0XUwp434NjUzfc0sMRkJDeWKG0FiLkEe_3a/exec" method="POST" id="contact-form">
                        <input type="hidden" name="redirect_url" id="redirect-url-input" value="https://yourdomain.com/#contact?success=true&whatsapp=08133413510">
                        <div class="mb-6">
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                            <input type="text" id="name" name="name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-200 shadow-sm" placeholder="Jane Doe">
                        </div>
                        <div class="mb-6">
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                            <input type="email" id="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-200 shadow-sm" placeholder="jane@example.com">
                        </div>
                        <div class="mb-8">
                            <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Tell Us About Your Project</label>
                            <textarea id="message" name="message" rows="5" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-200 shadow-sm" placeholder="I need a new website..."></textarea>
                        </div>
                        <button type="submit" class="w-full bg-primary text-white font-bold py-3 px-6 rounded-xl text-lg shadow-lg hover:shadow-xl hover:bg-gray-800 transition duration-300 transform hover:scale-[1.03] hover:ring-4 hover:ring-primary/40">Send Message</button>
                    </form>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-primary text-white py-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 border-b border-gray-700 pb-8 mb-8">
                <div>
                    <h3 class="text-2xl font-extrabold mb-4">Riel Innovations</h3>
                    <p class="text-gray-300 text-sm">Innovation Meets Functionality.</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-gray-200">Connect With Us</h4>
                    <p id="footer-email" class="text-gray-300 mb-2 flex items-center"><i class="fas fa-envelope mr-3"></i> contact@rielinnovations.com</p>
                    <p class="text-gray-300 mb-4 flex items-center"><i class="fas fa-phone mr-3"></i> (555) 123-4567</p>
                    
                    <div id="footer-socials" class="flex space-x-4">
                        <a id="facebook-link" href="#" target="_blank" class="text-gray-300 hover:text-white transition duration-200 text-xl"><i class="fab fa-facebook"></i></a>
                        <a id="twitter-link" href="#" target="_blank" class="text-gray-300 hover:text-white transition duration-200 text-xl"><i class="fab fa-twitter"></i></a>
                        <!-- LINKEDIN ID IS HERE -->
                        <a id="linkedin-link" href="#" target="_blank" class="text-gray-300 hover:text-white transition duration-200 text-xl"><i class="fab fa-linkedin"></i></a>
                        <a id="instagram-link" href="#" target="_blank" class="text-gray-300 hover:text-white transition duration-200 text-xl"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="text-center text-sm text-gray-400 pt-8">&copy; 2025 Riel Innovations. All rights reserved.</div>
        </div>
    </footer>

    <script>
        const DATA_SERVICE_URL = "https://script.google.com/macros/s/AKfycbxtBpu_A76qcYIvcZhIj7NXxcXHAllVy0XUwp434NjUzfc0sMRkJDeWKG0FiLkEe_3a/exec"; 
        
        // Helper to ensure URLs are absolute (prevents relative path errors)
        function ensureAbsoluteUrl(url) {
            if (!url) return "#";
            // If it starts with http or https, it's fine
            if (url.startsWith("http://") || url.startsWith("https://")) {
                return url;
            }
            // Otherwise, assume it's a domain and prepend https://
            return "https://" + url;
        }

        function resetFormView() {
            const form = document.getElementById('contact-form');
            const successMessage = document.getElementById('success-message');
            form.classList.remove('hidden');
            successMessage.classList.add('hidden');
            form.reset(); 
            history.pushState(null, '', window.location.pathname + window.location.hash.split('?')[0]);
        }

        function applyDynamicData(data) {
            console.log('Applying dynamic data:', data); // Check Console for this!

            // Portfolio Images
            if (data.image_portfolio_1) document.getElementById('portfolio-img-1').src = data.image_portfolio_1;
            if (data.image_portfolio_2) document.getElementById('portfolio-img-2').src = data.image_portfolio_2;
            if (data.image_portfolio_3) document.getElementById('portfolio-img-3').src = data.image_portfolio_3;

            // Footer
            const footerEmail = document.getElementById('footer-email');
            if (data.contact_email) footerEmail.innerHTML = '<i class="fas fa-envelope mr-3"></i> ' + data.contact_email;
            
            // Social Links - Now using ensureAbsoluteUrl
            if (data.facebook_url) document.getElementById('facebook-link').href = ensureAbsoluteUrl(data.facebook_url);
            if (data.twitter_url) document.getElementById('twitter-link').href = ensureAbsoluteUrl(data.twitter_url);
            if (data.linkedin_url) document.getElementById('linkedin-link').href = ensureAbsoluteUrl(data.linkedin_url);
            if (data.instagram_url) document.getElementById('instagram-link').href = ensureAbsoluteUrl(data.instagram_url);
            
            // Logo
            const logoImg = document.querySelector('header img');
            if (data.logo_url) logoImg.src = data.logo_url;
        }

        async function fetchDynamicData() {
            try {
                const response = await fetch(DATA_SERVICE_URL);
                if (!response.ok) { console.error("Failed to connect. Check permissions."); return; }
                const data = await response.json();
                if (data.error) { console.error("Sheet Error:", data.error); return; }
                
                applyDynamicData(data);
            } catch (error) {
                console.error("Connection Error:", error);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            fetchDynamicData();

            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const navLinks = document.querySelectorAll('.nav-link');
            const preloader = document.getElementById('preloader');
            const contactForm = document.getElementById('contact-form');
            const successMessage = document.getElementById('success-message');
            const whatsappLink = document.getElementById('whatsapp-link');

            window.addEventListener('load', () => {
                preloader.style.opacity = '0';
                setTimeout(() => { preloader.style.display = 'none'; }, 500);
            });

            mobileMenuBtn.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (!mobileMenu.classList.contains('hidden')) mobileMenu.classList.add('hidden');
                });
            });

            // --- NEW: AJAX FORM SUBMISSION HANDLER ---
            if (contactForm) {
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault(); // Prevents redirect to Google Script URL
                    
                    const submitBtn = contactForm.querySelector('button[type="submit"]');
                    const originalText = submitBtn.textContent;
                    submitBtn.textContent = 'Sending...';
                    submitBtn.disabled = true;

                    try {
                        // Send data to Apps Script in background
                        await fetch(contactForm.action, {
                            method: 'POST',
                            body: new FormData(contactForm),
                            mode: 'no-cors' // Required for Google Apps Script
                        });

                        // On Success: Switch to Success Message UI
                        contactForm.classList.add('hidden');
                        successMessage.classList.remove('hidden');
                        
                        // Manually set WhatsApp link for the AJAX flow
                        const message = encodeURIComponent("Hello Riel Innovations, I just submitted a contact form on your website and would like to get a quick quote now.");
                        const number = "08133413510"; 
                        whatsappLink.href = `https://wa.me/${number}?text=${message}`;

                        // Optional: Scroll to success message
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });

                    } catch (error) {
                        console.error('Submission Error:', error);
                        alert('There was a problem sending your message. Please try again.');
                    } finally {
                        submitBtn.textContent = originalText;
                        submitBtn.disabled = false;
                    }
                });
            }

            // --- Handle URL Params (Fallback/Legacy) ---
            const urlParams = new URLSearchParams(window.location.hash.split('?')[1]);
            const isSuccess = urlParams.get('success') === 'true';
            const whatsappNumber = urlParams.get('whatsapp');

            if (isSuccess) {
                contactForm.classList.add('hidden');
                successMessage.classList.remove('hidden');
                if (whatsappNumber) {
                    const message = encodeURIComponent("Hello Riel Innovations, I just submitted a contact form on your website and would like to get a quick quote now.");
                    const formattedNumber = whatsappNumber.replace(/\D/g, ''); 
                    whatsappLink.href = `https://wa.me/${formattedNumber}?text=${message}`;
                }
            }

            // --- ANIMATION LOGIC (NEW) ---
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-active'); // Use new generic active class
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // 1. Observe standard items
            document.querySelectorAll('[data-animate]').forEach(el => {
                observer.observe(el);
            });

            // 2. Add Stagger Delay Logic
            document.querySelectorAll('.stagger-container').forEach(container => {
                const children = container.querySelectorAll('[data-animate]');
                children.forEach((child, index) => {
                    // Stagger by 150ms per item
                    child.style.transitionDelay = `${index * 150}ms`; 
                });
            });
        });
    </script>
</body>
</html>
